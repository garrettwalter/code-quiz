<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <!-- <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script> -->
    </head>
    <body>
        <section id = "top">
            <div class="row">
                <div class="col-sm-6" id="topScores">TOP SCORES</div>
                <div class="col-sm-6" id="timer">75</div>
            </div>
        </section>
        <section id="welcome">
            <div class="jumbotron">
            <h1 class="display-4">Code Quiz!</h1>
            <p class="lead">This is a simple quiz over code! You have 75 seconds to complete all 5 questions. Choose Wisely: if you answer incorrectly you will lose 15 seconds! </p>
            <a id="startGame" class="btn btn-primary btn-lg" href="#" role="button">Start Quiz</a>
          </div>
        </section>
        <section id="qNa">
            <div class="row">
                <div class="col-sm-12" id="question"></div>
            </div>
            <div class="row">
                <div class="col-sm-12" id="answers"></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-12" id="result"></div>
            </div>
        </section>
        <section id="finishScreen">
            <div class="row">
                <div class="col-sm-12" id="allDone"></div>
            </div>
            <div class="row">
                <div class="col-sm-12" id="finalScore"></div>
            </div>
            <div class="row">
                <div class="col-sm-12" id="enterInitials"></div>
            </div>
            <hr>
            <div class="row">
                <div class="col-sm-12" id="fResult"></div>
            </div>
        </section>

        
        <script>

           var welcomeContainer = document.getElementById("welcome");
           var startButton = document.getElementById("startGame");

           var qNa = document.getElementById("qNa");
           var question = document.getElementById("question");
           var answers = document.getElementById("answers");
           var result = document.getElementById("result");

           var finishScreen = document.getElementById("finishScreen");
           var finalScore = document.getElementById("finalScore");
           var enterInitials = document.getElementById("enterInitials");
           var fResult = document.getElementById("fResult");

           var timeLeft = 75;

           var currentStage = 0;
           var stages = [
             {
                question: ["Commonly used data types DO NOT include:"],
                answers: ["strings", "C booleans", "alerts", "numbers"],
             },
             {
                question: ["The condition in an if/else statement is enclosed within ______."],
                answers: ["quotes", "curly brackets", "C parenthesis", "square brackets"],
             },
             {
                question: ["Arrays in JavaScript can be used to store ______."],
                answers: ["numbers and strings", "other arrays", "booleans", "C all of the above"],
             },
             {
                question: ["String values must be enclosed within _____ when being assigned to variables."],
                answers: ["commas", "C curly brackets", "parenthesis", "quotes"],
             },
             {
                question: ["A very useful tool used during development and debugging for printing content to the debugger is:"],
                answers: ["JavaScript", "terminal/bash", "for loops", "C console.log"],
             },
            ];
           
            function renderAnswers(array) {
                for (var i = 0; i < array.length; i++) {
                    // 1. Create an element.
                    var button = document.createElement("button");
                    // 2. Add content
                    button.setAttribute("class", "btn btn-info");
                    button.textContent = array[i];
                    button.setAttribute("data-value", array[i]);
                    // 3. Append to an existing element
                    answers.appendChild(button);
                }
                }
            function renderQuestion(array) {
                for (var i = 0; i < array.length; i++) {
                    // 1. Create an element.
                    var questionOnDisplay = document.createElement("h1");
                    // 2. Add content
                    questionOnDisplay.textContent = array[i];
                    questionOnDisplay.setAttribute("data-value", array[i]);
                    // 3. Append to an existing element
                    question.append(questionOnDisplay);
                }}
         
        answers.addEventListener("click", function (event){
            if (event.target.matches("button")) {
                console.log("You clicked a button");
                var selectedAnswer = event.target.getAttribute("data-value");
                console.log(selectedAnswer);

                result.textContent = "";
                var answerToDisplay = document.createElement("h3");
                answerToDisplay.textContent = selectedAnswer;
                result.append("Your Choice was " + selectedAnswer);

                // TODO: Save to Local Storage

                if (currentStage === stages.length -1){
                    qNa.style.display = "none";
                    fResult.textContent="Good Job!";
                } else {
                setTimeout(function () {
                currentStage++;
                answers.textContent = "";
                question.textContent = "";
                result.textContent = "";
                var answersToDisplay = stages[currentStage].answers;
                var questionToDisplay = stages[currentStage].question;
                renderAnswers(answersToDisplay);
                renderQuestion(questionToDisplay);
                }, 1000);
            }
            }})

        startButton.addEventListener("click", function () {
             welcomeContainer.style.display = "none";
             var answersToDisplay = stages[currentStage].answers;
             var questionToDisplay = stages[currentStage].question;
            renderAnswers(answersToDisplay);
            renderQuestion(questionToDisplay);

           
           var timer = setInterval(function(){
            timeLeft--;
            document.getElementById("timer").textContent = timeLeft;
            if(currentStage === stages.length -1)
            clearInterval(timer);
            // create finish screen!!!!!!!
            },1000);
        });


            
        </script>
    </body>
</html>